<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Тест про Надю Дорофєєву</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #e0f2fe, #f1f5f9);
      margin: 0;
      padding: 40px;
    }
    .card {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    h2 {
      text-align: center;
      color: #1e293b;
    }
    .question {
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 12px;
      background: #f9fafb;
      border: 1px solid #e2e8f0;
      transition: 0.3s;
    }
    .question:hover {
      background: #f1f5f9;
    }
    label {
      display: block;
      margin: 6px 0;
      cursor: pointer;
    }
    select, input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      font-size: 14px;
    }
    button {
      display: block;
      margin: 25px auto 10px;
      padding: 12px 24px;
      border: none;
      border-radius: 10px;
      background: #3b82f6;
      color: white;
      font-size: 17px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #13a1ff;
      transform: scale(1.05);
    }
    #results {
      margin-top: 30px;
    }
    table.resultTable {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }
    table.resultTable th, table.resultTable td {
      border: 1px solid #cbd5e1;
      padding: 10px;
      text-align: left;
    }
    table.resultTable th {
      background: #e2e8f0;
    }
    .total {
      margin-top: 20px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      padding: 15px;
      border-radius: 12px;
      background: #e0f2fe;
      color: #075985;
    }
    .comment {
      text-align: center;
      margin-top: 10px;
      font-size: 18px;
      font-style: italic;
    }
    #leaderboard {
      margin-top: 30px;
      border-collapse: collapse;
      width: 100%;
    }
    #leaderboard th, #leaderboard td {
      border: 1px solid #cbd5e1;
      padding: 10px;
      text-align: center;
    }
    #leaderboard th {
      background: #e2e8f0;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="card" id="loginCard">
    <h2>Введіть своє ім’я</h2>
    <input type="text" id="username" placeholder="Ваше ім’я">
    <button onclick="startQuiz()">Почати тест</button>
  </div>

  <div class="card hidden" id="quizCard">
    <h2>Тест: Наскільки ти фанат Наді Дорофєєвої?</h2>
    <form id="quizForm">

     
      <div class="question">
        <p>1. У якій групі Надя виступала до сольної кар’єри?</p>
        <label><input type="radio" name="q1" value="1"> Время и Стекло</label>
        <label><input type="radio" name="q1" value="0"> Потап і Настя</label>
        <label><input type="radio" name="q1" value="0"> НеАнгели</label>
        <label><input type="radio" name="q1" value="0"> Kazka</label>
      </div>

     
      <div class="question">
        <p>2. Коли вийшов її перший сольний трек «gorit»?</p>
        <label><input type="radio" name="q2" value="0"> 2018</label>
        <label><input type="radio" name="q2" value="1"> 2020</label>
        <label><input type="radio" name="q2" value="0"> 2021</label>
        <label><input type="radio" name="q2" value="0"> 2016</label>
      </div>

    
      <div class="question">
        <p>3. Які цікаві факти справді стосуються Наді Дорофєєвої?</p>
        <label><input type="checkbox" name="q3" value="1"> Вона відкривала власний бренд одягу</label>
        <label><input type="checkbox" name="q3" value="1"> Була фіналісткою шоу «Фабрика зірок»</label>
        <label><input type="checkbox" name="q3" value="0"> Знімалася у серіалі «Свати»</label>
        <label><input type="checkbox" name="q3" value="0"> Виграла «Євробачення»</label>
      </div>

     
      <div class="question">
        <p>4. У яких шоу вона була тренером?</p>
        <label><input type="checkbox" name="q4" value="1"> Голос країни</label>
        <label><input type="checkbox" name="q4" value="1"> Голос. Діти</label>
        <label><input type="checkbox" name="q4" value="0"> Х-Фактор</label>
        <label><input type="checkbox" name="q4" value="0"> Україна має талант</label>
      </div>

     
      <div class="question">
        <p>5. У якому жанрі переважно виступає Дорофєєва?</p>
        <select name="q5">
          <option value="0">Рок</option>
          <option value="1">Поп</option>
          <option value="0">Хіп-хоп</option>
          <option value="0">Джаз</option>
        </select>
      </div>

     
      <div class="question">
        <p>6. З ким із цих артистів вона точно співпрацювала?</p>
        <select name="q6" multiple size="4">
          <option value="1">Потап</option>
          <option value="1">Позитив</option>
          <option value="0">Оля Полякова</option>
          <option value="0">Тіна Кароль</option>
        </select>
      </div>

     
      <div class="question">
        <p>7. Як по батькові Надюшку?</p>
        <input type="text" name="q7" placeholder="Ваша відповідь">
      </div>

      <button type="button" onclick="checkQuiz()">Завершити тест</button>
    </form>

    <div id="results"></div>
    <h3 style="margin-top:30px;">Таблиця лідерів</h3>
    <table id="leaderboard">
      <thead>
        <tr><th>Ім’я</th><th>Бали</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script>
    let currentUser = "";

    function startQuiz() {
      const nameInput = document.getElementById("username").value.trim();
      if (!nameInput) {
        alert("Введіть ім’я!");
        return;
      }
      currentUser = nameInput;
      document.getElementById("loginCard").classList.add("hidden");
      document.getElementById("quizCard").classList.remove("hidden");
    }

    function checkQuiz() {
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";
      let totalScore = 0;

      let table = `<table class="resultTable"><thead><tr><th>Питання</th><th>Відповідь</th><th>Бал</th></tr></thead><tbody>`;

     
      for (let i = 1; i <= 2; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        let score = selected ? parseInt(selected.value) : 0;
        totalScore += score;
        const answer = selected ? selected.parentNode.innerText : "—";
        table += rowTemplate(i, answer, score);
      }

     
      for (let i = 3; i <= 4; i++) {
        const checkboxes = document.querySelectorAll(`input[name="q${i}"]:checked`);
        let answers = Array.from(checkboxes).map(c => c.parentNode.innerText);
        let values = Array.from(checkboxes).map(c => parseInt(c.value));
        let score = 0;

        if (checkboxes.length === 1) {
          score = values[0];
        } else if (checkboxes.length === 2) {
          score = values[0] + values[1];
        } else if (checkboxes.length >= 3) {
          score = 0;
        }

        totalScore += score;
        table += rowTemplate(i, answers.join(", ") || "—", score);
      }

      
      const q5 = document.querySelector(`select[name="q5"]`);
      let score5 = parseInt(q5.value);
      totalScore += score5;
      table += rowTemplate(5, q5.options[q5.selectedIndex].text, score5);

      
      const q6 = document.querySelector(`select[name="q6"]`);
      const selected6 = Array.from(q6.selectedOptions);
      let answers6 = selected6.map(opt => opt.text);
      let values6 = selected6.map(opt => parseInt(opt.value));
      let score6 = 0;

      if (selected6.length === 1) {
        score6 = values6[0];
      } else if (selected6.length === 2) {
        score6 = values6[0] + values6[1];
      } else if (selected6.length >= 3) {
        score6 = 0;
      }

      totalScore += score6;
      table += rowTemplate(6, answers6.join(", ") || "—", score6);

      
      const q7 = document.querySelector(`input[name="q7"]`).value.trim().toLowerCase();
      let score7 = (q7 === "володимирівна") ? 1 : 0;
      totalScore += score7;
      table += rowTemplate(7, q7 || "—", score7);

      table += "</tbody></table>";

      resultsDiv.innerHTML = table;
      resultsDiv.innerHTML += `<div class="total">Ваш результат: ${totalScore} / 10</div>`;

      let comment = "";
      if (totalScore <= 2) comment = "Ойй… ти точно не фанат Наді ";
      else if (totalScore <= 5) comment = "Ти щось знаєш, але фан-клуб поки не світить ";
      else if (totalScore <= 8) comment = "Ти вже добре шариш за Надюшку ";
      else comment = "ОЙЙЙЙЙЙ дай я обійму мого фаната ДОРОФЕЄВОЇ ";
      resultsDiv.innerHTML += `<div class="comment">${comment}</div>`;

      saveResult(currentUser, totalScore);
      showLeaderboard();
    }

    function rowTemplate(num, answer, score) {
      return `<tr><td>${num}</td><td>${answer}</td><td>${score}</td></tr>`;
    }

    function saveResult(name, score) {
      let leaderboard = JSON.parse(localStorage.getItem("leaderboard")) || [];
      leaderboard.push({ name, score });
      leaderboard.sort((a,b) => b.score - a.score);
      localStorage.setItem("leaderboard", JSON.stringify(leaderboard));
    }

    function showLeaderboard() {
      let leaderboard = JSON.parse(localStorage.getItem("leaderboard")) || [];
      const tbody = document.querySelector("#leaderboard tbody");
      tbody.innerHTML = "";
      leaderboard.forEach(player => {
        let row = `<tr><td>${player.name}</td><td>${player.score}</td></tr>`;
        tbody.innerHTML += row;
      });
    }

    showLeaderboard();
  </script>
</body>
</html>
